The file system is an important service of the operating system, yet
implementations still occasionally have bugs that can lead to incorrect results
or even data loss. What makes it difficult to write a correct file system is
that even simple operations can execute in many ways due to concurrency and
power failures, making it challenging to think through or test all
possibilities. Formal verification offers a promising solution by using a proof
to show the file-system code always meets its specification.

This thesis develops DaisyNFS, a verified, concurrent, and performant file
system. We first contribute foundations that make it possible to reason about
crashes and concurrency in systems code at all. Next, we use a
verification-friendly design for DaisyNFS based on transactions so that most of
the code enjoys simple sequential reasoning. Finally, we implemented and
verified a transaction system that gives DaisyNFS good performance and
concurrency --- at least 75\% the throughput of Linux NFS exporting ext4 over a
range of benchmarks.
