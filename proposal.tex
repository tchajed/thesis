\documentclass[fontsize=12pt,paper=letter,cleardoublepage=plain,twoside=false]{scrbook}

% adapted from https://github.com/jonhoo/thesis/

% for 1.5 line spacing
\usepackage{setspace}
\onehalfspacing
% single spacing for table of contents
\AfterTOCHead{\singlespacing}

% recompute page layout based on the above
\recalctypearea

% more colors (like RedOrange)
\usepackage[dvipsnames]{xcolor}

% qualitative colors
% subset of https://jfly.uni-koeln.de/color/
% that is also distinctive in grayscale
\definecolor{set1}{HTML}{0071b2} % blue
\definecolor{set2}{HTML}{e59c00} % orange
\definecolor{set3}{HTML}{009e73} % green
\definecolor{set4}{HTML}{efe440} % yellow

% so we can splice in PDFs
\usepackage{pdfpages}

% set up bibliography
\usepackage[square,comma,numbers,sort&compress]{natbib}

% enumerate* and itemize*
\usepackage[inline]{enumitem}

% for \begin{comment}
\usepackage{verbatim}

% for source-code listings
\usepackage[newfloat,draft=false]{minted}

% for formulas
\usepackage{mathtools}

% to split lists into multiple columns
\usepackage{multicol}

% for "on page NN" reference
\usepackage[nospace]{varioref}

% for \sfrac
\usepackage{xfrac}

% for \ifoptionfinal
\usepackage{ifdraft}

\usepackage[breaklinks, pdfborder={0 0 0}]{hyperref}
\usepackage[nameinlink]{cleveref}

% for \num, used in \loc macro
\usepackage[group-separator={,}]{siunitx}

% generate synctex output for inverse search
\synctex=1

% do not reset page numbers at \mainmatter
\let\mainmatterorig\mainmatter
\renewcommand\mainmatter
 {\edef\p{\arabic{page}}%
  \mainmatterorig
  % we need to compute the actual current page number. we know the page number
  % from _before_ we called \mainmatter. but what is it now? well, it is
  % certainly that +1. but we also need to account for the next chapter starting
  % on a "right" (odd) page. we do this by adding the page number modulo two.
  % TODO: double check before final version
  \setcounter{page}{\p+1+(\p-\p/2*2)}%
 }

% an environment for todos
\newenvironment{inprogress}
  {\vspace{.5em} \color{set2} \noindent \textbf{TODO}}
  {\vspace{.5em}}
\newcommand{\insertnote}[3]{\noindent\textcolor{#1}{\textbf{#2:} #3}}
\newcommand{\note}[1]{\insertnote{blue}{NOTE}{#1}}
\newcommand{\todo}[1]{\insertnote{red}{TODO}{#1}}

% a command to indicate current editing progress
\newcommand{\resume}{
  \begin{center}
    \color{set2}
    \hrule
    \vspace{1pt}
    \hrule
    \hrule
    \vspace{10pt}
    \textbf{This section is not yet complete.}
    \vspace{10pt}
    \hrule
    \hrule
    \vspace{1pt}
    \hrule
  \end{center}
}

\usepackage{relsize}
\renewcommand{\ttdefault}{pxtt}
\input{cmds}

% for handy reference
%
% paragraph without spacing:
% \setparsizes{0pt}{0pt}{0pt plus 1fil}

% in thesis: titlehead, subject, title, subtitle
\title{Verifying a concurrent, crash-safe file system with sequential proofs}
\author{Tej Chajed}
\begin{document}

\frontmatter

% always arabic page numbering (default is roman in \frontmatter)
\pagenumbering{arabic}

\mainmatter

File systems are an important service of the operating system, yet
implementations still have bugs that can even lead to data loss. Formal
verification offers a promising solution by showing that the file system always
meets its specification, even though the implementation has concurrency and
should tolerate a crash or power failure at any time. This thesis introduces
techniques for making such a proof feasible and efficient, with a new
verification framework and novel file-system design that isolates the most
difficult reasoning to a transaction system that provides atomic updates and
then connects to sequential proofs for the correctness of the main file-system
logic.

\chapter{Thesis proposal}
\input{01-introduction.tex}

\section{Timeline}
The main research in this thesis is already complete, including all of the
file-system proofs. The system is also described between a published paper on
GoJournal~\cite{chajed:gojournal} and a draft on DaisyNFS itself, but the thesis
will give a more integrated view that connects the two proofs more simply. I aim
to complete a draft of the thesis by October 1st and leave several weeks for
feedback and revision.

\backmatter

% single spacing for bibliography
\begin{spacing}{1}
\bibliography{n-str,paper,n,n-conf}{}
\bibliographystyle{abbrvnat}
\end{spacing}

\end{document}
